{"ast":null,"code":"import _slicedToArray from \"/Users/skarlso/goprojects/staple/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/skarlso/goprojects/staple/frontend/src/containers/Staples.js\";\nimport React, { useState, useEffect } from \"react\";\nimport config from \"../config\";\nimport Cookie from \"js-cookie\";\nimport { FormGroup, FormControl } from \"react-bootstrap\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport \"./Staples.css\";\nexport default function Staples(props) {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        staple = _useState2[0],\n        setStaple = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        content = _useState4[0],\n        setContent = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        isLoading = _useState6[0],\n        setIsLoading = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        isDeleting = _useState8[0],\n        setIsDeleting = _useState8[1];\n\n  useEffect(() => {\n    async function onLoad() {\n      try {\n        fetch(config.HOST + `/rest/api/1/staple/${props.match.params.id}`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer ' + Cookie.get('token')\n          }\n        }).then(response => response.json()).then(data => {\n          setContent(data.content);\n          setStaple(data);\n        }).catch(e => alert(e.message));\n      } catch (e) {\n        alert(e);\n      }\n    }\n\n    onLoad();\n  }, [props.match.params.id]);\n\n  async function handleSubmit(event) {\n    event.preventDefault(); // mark as archvied here.\n    // if (file.current && file.current.size > config.MAX_ATTACHMENT_SIZE) {\n    //   alert(\n    //     `Please pick a file smaller than ${config.MAX_ATTACHMENT_SIZE /\n    //     1000000} MB.`\n    //   );\n    //   return;\n    // }\n\n    setIsLoading(true);\n  }\n\n  return React.createElement(\"div\", {\n    className: \"Staples\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, staple && React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(FormGroup, {\n    controlId: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    plainText: true,\n    readOnly: true,\n    defaultValue: content,\n    componentClass: \"textarea\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })), React.createElement(LoaderButton, {\n    block: true,\n    bsSize: \"large\",\n    bsStyle: \"danger\",\n    onClick: handleSubmit,\n    isLoading: isDeleting,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Archive\")));\n}","map":{"version":3,"sources":["/Users/skarlso/goprojects/staple/frontend/src/containers/Staples.js"],"names":["React","useState","useEffect","config","Cookie","FormGroup","FormControl","LoaderButton","Staples","props","staple","setStaple","content","setContent","isLoading","setIsLoading","isDeleting","setIsDeleting","onLoad","fetch","HOST","match","params","id","method","headers","get","then","response","json","data","catch","e","alert","message","handleSubmit","event","preventDefault"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,iBAAvC;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAO,eAAP;AAEA,eAAe,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AAAA,oBACTR,QAAQ,CAAC,IAAD,CADC;AAAA;AAAA,QAC9BS,MAD8B;AAAA,QACtBC,SADsB;;AAAA,qBAEPV,QAAQ,CAAC,EAAD,CAFD;AAAA;AAAA,QAE9BW,OAF8B;AAAA,QAErBC,UAFqB;;AAAA,qBAGHZ,QAAQ,CAAC,KAAD,CAHL;AAAA;AAAA,QAG9Ba,SAH8B;AAAA,QAGnBC,YAHmB;;AAAA,qBAIDd,QAAQ,CAAC,KAAD,CAJP;AAAA;AAAA,QAI9Be,UAJ8B;AAAA,QAIlBC,aAJkB;;AAMrCf,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAegB,MAAf,GAAwB;AACtB,UAAI;AACFC,QAAAA,KAAK,CAAChB,MAAM,CAACiB,IAAP,GAAa,sBAAqBX,KAAK,CAACY,KAAN,CAAYC,MAAZ,CAAmBC,EAAG,EAAzD,EAA4D;AAC/DC,UAAAA,MAAM,EAAE,KADuD;AAE/DC,UAAAA,OAAO,EAAE;AACP,4BAAgB,kBADT;AAEP,6BAAiB,YAAYrB,MAAM,CAACsB,GAAP,CAAW,OAAX;AAFtB;AAFsD,SAA5D,CAAL,CAMGC,IANH,CAMQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EANpB,EAOGF,IAPH,CAOQG,IAAI,IAAI;AACZjB,UAAAA,UAAU,CAACiB,IAAI,CAAClB,OAAN,CAAV;AACAD,UAAAA,SAAS,CAACmB,IAAD,CAAT;AACD,SAVH,EAWGC,KAXH,CAWSC,CAAC,IAAIC,KAAK,CAACD,CAAC,CAACE,OAAH,CAXnB;AAYD,OAbD,CAaE,OAAOF,CAAP,EAAU;AACVC,QAAAA,KAAK,CAACD,CAAD,CAAL;AACD;AACF;;AACDd,IAAAA,MAAM;AACP,GApBQ,EAoBN,CAACT,KAAK,CAACY,KAAN,CAAYC,MAAZ,CAAmBC,EAApB,CApBM,CAAT;;AAsBA,iBAAeY,YAAf,CAA4BC,KAA5B,EAAmC;AAEjCA,IAAAA,KAAK,CAACC,cAAN,GAFiC,CAIjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAtB,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACD;;AAED,SACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGL,MAAM,IACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,SAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,WAAD;AACE,IAAA,SAAS,MADX;AAEE,IAAA,QAAQ,MAFV;AAGE,IAAA,YAAY,EAAEE,OAHhB;AAIE,IAAA,cAAc,EAAC,UAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EASE,oBAAC,YAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,MAAM,EAAC,OAFT;AAGE,IAAA,OAAO,EAAC,QAHV;AAIE,IAAA,OAAO,EAAEuB,YAJX;AAKE,IAAA,SAAS,EAAEnB,UALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eATF,CAFJ,CADF;AAyBD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport config from \"../config\";\nimport Cookie from \"js-cookie\";\nimport { FormGroup, FormControl } from \"react-bootstrap\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport \"./Staples.css\";\n\nexport default function Staples(props) {\n  const [staple, setStaple] = useState(null);\n  const [content, setContent] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  useEffect(() => {\n    async function onLoad() {\n      try {\n        fetch(config.HOST+`/rest/api/1/staple/${props.match.params.id}`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer ' + Cookie.get('token'),\n          },\n        }).then(response => response.json())\n          .then(data => {\n            setContent(data.content);\n            setStaple(data);\n          })\n          .catch(e => alert(e.message));\n      } catch (e) {\n        alert(e);\n      }\n    }\n    onLoad();\n  }, [props.match.params.id]);\n\n  async function handleSubmit(event) {\n\n    event.preventDefault();\n\n    // mark as archvied here.\n    // if (file.current && file.current.size > config.MAX_ATTACHMENT_SIZE) {\n    //   alert(\n    //     `Please pick a file smaller than ${config.MAX_ATTACHMENT_SIZE /\n    //     1000000} MB.`\n    //   );\n    //   return;\n    // }\n\n    setIsLoading(true);\n  }\n\n  return (\n    <div className=\"Staples\">\n      {staple && (\n        <form>\n          <FormGroup controlId=\"content\">\n            <FormControl\n              plainText\n              readOnly\n              defaultValue={content}\n              componentClass=\"textarea\"\n            />\n          </FormGroup>\n          <LoaderButton\n            block\n            bsSize=\"large\"\n            bsStyle=\"danger\"\n            onClick={handleSubmit}\n            isLoading={isDeleting}\n          >\n            Archive\n          </LoaderButton>\n        </form>\n      )}\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}